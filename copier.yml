_subdirectory: "template"
_answers_file: ".copier-answers.yml"
_jinja_extensions:
  - jinja2_time.TimeExtension
_skip_if_exists:
  - .secrets.baseline
_exclude:
  - "copier.yaml"
  - "copier.yml"
  - "~*"
  - "*.py[co]"
  - "__pycache__"
  - ".git"
  - ".DS_Store"
  - ".svn"
  - "_mixins"

terraform_provider:
  type: str
  default: "hashicorp/aws"
  choices:
    aws: "hashicorp/aws"
    azurerm: "hashicorp/azurerm"
    azuread: "hashicorp/azuread"
    azuredevops: "microsoft/azuredevops"
    azapi: "azure/azapi"
    azurestack: "hashicorp/azurestack"
  description: "The Terraform provider to use for this module."

terraform_module_type:
  type: str
  default: "primitive"
  choices:
    primitive: "primitive"
    collection: "collection"
    reference: "reference"
  description: "The type of Terraform module to create. Primitive modules are single resources, collection modules are multiple resources, and reference modules are for referencing other modules."

terraform_resource_name:
  type: str
  default: "lambda_function"
  description: "The name of the Terraform resource to create. This should not include the cloud in the name, just the resource type (e.g., 'lambda_function')."

terraform_version:
  type: str
  default: "1.5.5"
  description: "The version of Terraform to use for this module."

repo_name:
  type: str
  default: "tf-{{ terraform_provider }}-module_{{ terraform_module_type }}-{{ terraform_resource_name | lower | trim | replace('-', '_') | replace(' ', '_')}}"
  when: false

terraform_provider_version:
  type: str
  {% if terraform_provider == 'hashicorp/aws' %}
  default: "5.0"
  {% elif terraform_provider == 'hashicorp/azurerm' %}
  default: "3.117"
  {% elif terraform_provider == 'hashicorp/azuread' %}
  default: "3.4"
  {% elif terraform_provider == 'microsoft/azuredevops' %}
  default: "1.10"
  {% elif terraform_provider == 'azure/azapi' %}
  default: "2.5"
  {% elif terraform_provider == 'hashicorp/azurestack' %}
  default: "1.0"
  {% endif %}  
  description: "The version of the {{terraform_provider}} provider to use for this module."
  when: false
